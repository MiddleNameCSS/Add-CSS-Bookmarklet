// http://rocktronica.github.com/Add-CSS-Bookmarklet/
(function(){function d(){(window.AddCss=function(){function e(){var c=a.val();d.html(c);if(b){localStorage["css"]=c}}var a;if(document.getElementById("txtAddCss")){$("#txtAddCss").toggle();return false}var b=function(){try{return"localStorage"in window&&window["localStorage"]!==null}catch(a){return false}}();var c=$("<div />").css({position:"fixed",bottom:"10px",right:"10px",background:"#333","z-index":"1000"}).appendTo($("body"));var d=$("<style />").appendTo($("body"));a=$("<textarea id='txtAddCss' spellcheck='false' />").css({resize:"both",display:"block",background:"#111",color:"#fff",border:"none",width:"400px",height:"200px",font:'13px/18px "Courier New", Courier, "Lucida Sans Typewriter", "Lucida Typewriter", monospace',padding:"10px",overflow:"auto"}).bind("keyup change",e).appendTo(c);a.focus();if(b){if(localStorage["css"]!==null&&localStorage["css"]!==undefined){a.val(localStorage["css"]).change()}}if(a.val().trim()===""){a.val("/* Edit me! */\n\nbody {\n\tbackground: #F5F5F5;\n\tcolor: #333;\n}").change()}})()}var a="1.3.2";if(window.jQuery===undefined||window.jQuery.fn.jquery<a){var b=false;var c=document.createElement("script");c.src="http://ajax.googleapis.com/ajax/libs/jquery/"+a+"/jquery.min.js";c.onload=c.onreadystatechange=function(){if(!b&&(!this.readyState||this.readyState=="loaded"||this.readyState=="complete")){b=true;d()}};document.getElementsByTagName("head")[0].appendChild(c)}else{d()}})()